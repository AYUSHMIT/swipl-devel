<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<HTML>
<HEAD>
<TITLE>SWI-Prolog 5.6.17 Reference Manual: Section 4.27</TITLE><LINK REL=home HREF="index.html">
<LINK REL=contents HREF="Contents.html">
<LINK REL=index HREF="DocIndex.html">
<LINK REL=previous HREF="arith.html">
<LINK REL=next HREF="builtinlist.html">
<style type="text/css"> 
dd.defbody 
{ margin-bottom: 1em; 
}

dt.pubdef 
{ background-color: #c5e1ff; 
}

pre.code 
{ margin-left: 1.5em; 
margin-right: 1.5em; 
border: 1px dotted; 
padding-top: 5px; 
padding-left: 5px; 
padding-bottom: 5px; 
background-color: #f8f8f8; 
}

div.navigate
{ text-align: center; 
background-color: #f0f0f0; 
border: 1px dotted; 
padding: 5px;
}
</style>
</HEAD>
<BODY BGCOLOR="white"><DIV class="navigate"><A HREF="index.html"><IMG SRC="home.gif" BORDER=0 ALT="Home"></A>
<A HREF="Contents.html"><IMG SRC="index.gif" BORDER=0 ALT="Contents"></A>
<A HREF="DocIndex.html"><IMG SRC="yellow_pages.gif" BORDER=0 ALT="Index"></A>
<A HREF="arith.html"><IMG SRC="prev.gif" BORDER=0 ALT="Previous"></A>
<A HREF="builtinlist.html"><IMG SRC="next.gif" BORDER=0 ALT="Next"></A>
</DIV>

<H2><A NAME="sec:4.27">4.27 Adding Arithmetic Functions</A></H2>

<A NAME="sec:extendarith"></A>

<P>Prolog predicates can be given the role of arithmetic function. The 
last argument is used to return the result, the arguments before the 
last are the inputs. Arithmetic functions are added using the predicate <A NAME="idx:arithmeticfunction1:896"></A><A HREF="extendarith.html#arithmetic_function/1">arithmetic_function/1</A>, 
which takes the head as its argument. Arithmetic functions are module 
sensitive, that is they are only visible from the module in which the 
function is defined and declared. Global arithmetic functions should be 
defined and registered from module <CODE>user</CODE>. Global definitions 
can be overruled locally in modules. The built-in functions described 
above can be redefined as well.

<DL>
<DT class="pubdef"><A NAME="arithmetic_function/1"><STRONG>arithmetic_function</STRONG>(<VAR>+Head</VAR>)</A></DT>
<DD class="defbody">
Register a Prolog predicate as an arithmetic function (see <A NAME="idx:is2:897"></A><A HREF="arith.html#is/2">is/2</A>,
<A HREF="arith.html#>/2">&gt;/2</A>, etc.). The Prolog predicate should 
have one more argument than specified by <VAR>Head</VAR>, which it 
either a term <VAR>Name/Arity</VAR>, an atom or a complex term. This 
last argument is an unbound variable at call time and should be 
instantiated to an integer or floating point number. The other arguments 
are the parameters. This predicate is module sensitive and will declare 
the arithmetic function only for the context module, unless declared 
from module <CODE>user</CODE>. Example:

<PRE class="code">
1 ?- [user].
:- arithmetic_function(mean/2).

mean(A, B, C) :-
        C is (A+B)/2.
user compiled, 0.07 sec, 440 bytes.

Yes
2 ?- A is mean(4, 5).

A = 4.500000
</PRE>

</DD>
<DT class="pubdef"><A NAME="current_arithmetic_function/1"><STRONG>current_arithmetic_function</STRONG>(<VAR>?Head</VAR>)</A></DT>
<DD class="defbody">
Successively unifies all arithmetic functions that are visible from the 
context module with <VAR>Head</VAR>.
</DD>
</DL>

<P></BODY></HTML>