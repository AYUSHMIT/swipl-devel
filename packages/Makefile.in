################################################################
# This Makefile is created from Makefile.in by the main Prolog
# configuration in .../pl/src/configure.
################################################################

prefix=@prefix@
PL=@PL@@RT@
PLVERSION=@PLVERSION@
PLBASE=$(prefix)/lib/@PL@-$(PLVERSION)
PLLIBS=@LIBS@
PLARCH=@ARCH@
PLLDFLAGS=@LDFLAGS@
PLINCL=$(shell dirname `pwd`)/include
PLSHARED=@PLSHARED@

PKG=	clib \
	table \
	sgml \
	sgml/RDF \
	xpce

CONFIG=	env PL="$(PL)" PLBASE="$(PLBASE)" PLARCH="$(PLARCH)" \
	    PLLIBS="$(PLLIBS)" PLLDFLAGS="$(PLLDFLAGS)" \
	    PLINCL="$(PLINCL)" PLSHARED="$(PLSHARED)" \
	    ./configure --enable-mt --prefix=$(prefix)

all:	objects
	
objects:
	for p in $(PKG); do \
	    if [ -r $$p/Makefile ]; then ( cd $$p && $(MAKE) ); fi \
        done
	
install:
	for p in $(PKG); do \
	    if [ -r $$p/Makefile ]; then ( cd $$p && $(MAKE) install ); fi \
        done
	
configure::
	for p in $(PKG); do \
	    if [ -r $$p/configure ]; ( cd $$p && $(CONFIG) ); fi \
        done
	
distclean:
	for p in $(PKG); do \
	    if [ -r $$p/Makefile ]; then ( cd $$p && $(MAKE) distclean ); fi \
        done

clean:
	for p in $(PKG); do \
	    if [ -r $$p/Makefile ]; then ( cd $$p && $(MAKE) clean ); fi \
        done

